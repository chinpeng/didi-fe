<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<title>touch-move</title>
</head>
<body>
<section>
<input type="button" id="btn-move" value="STOP-TOUCH-MOVE" style="width: 200px; height: 90px;">
</section>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded",function(ev){
    var abc = "abc", btnMove = document.getElementById('btn-move');

    var didi = {
        touch: function(ele, callback, bubble){
            if(!bubble){
                bubble = false;
            }
            if(ele && callback){
                ele.addEventListener('touchstart',function(ev){
                    ev.target.focus();
                    ev.stopPropagation(); //阻止冒泡
                },bubble);

                ele.addEventListener('touchmove',function(ev){
                    ev.target.setAttribute("moved","true");
                },bubble);

                ele.addEventListener('touchend', function(ev){
                    ev.target.blur();
                    if(ev.target.getAttribute("moved") !== "true"){
                        callback(ev);
                    }else{
                        ev.target.setAttribute("moved","false");
                    }
                } ,bubble);
            }
        }
    };

    /*
    * touchstart事件
    */
    // didi.touch(btnMove, function(ev){
    //     console.log(ev.target);
    //     console.log("ssdss");
    // }, false);

    btnMove.addEventListener('click',function(){
        alert("1");
    });
    btnMove.addEventListener('click',function(){
        alert("12");
    });

    // btnMove.addEventListener("touchstart",function(ev){
        //     alert(abc);
    // },false);

},false);
</script>
</body>
</html>